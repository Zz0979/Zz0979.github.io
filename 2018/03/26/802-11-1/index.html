<!DOCTYPE html>
<html lang=de>
<head><meta name="generator" content="Hexo 3.8.0">
    <!-- so meta -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="HandheldFriendly" content="True">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <meta name="description" content="无线渗透无线技术特点 无线技术变化快 难度大 行业迅猛发展 互联网的重要入口 边界模糊 安全实施缺失而且困难 对技术不了解而造成配置不当 企业网络私自接入AP破坏网络边界  802.11 标准IEEE  Institute of Electrical and Electronics Engineers 由通信航天生物电气电子等方面的科学家组成，目的是制定标准，指导行业技术的发展，目前成员近40万人">
<meta property="og:type" content="article">
<meta property="og:title" content="802.11_1">
<meta property="og:url" content="http://yoursite.com/2018/03/26/802-11-1/index.html">
<meta property="og:site_name" content="Chace Blog">
<meta property="og:description" content="无线渗透无线技术特点 无线技术变化快 难度大 行业迅猛发展 互联网的重要入口 边界模糊 安全实施缺失而且困难 对技术不了解而造成配置不当 企业网络私自接入AP破坏网络边界  802.11 标准IEEE  Institute of Electrical and Electronics Engineers 由通信航天生物电气电子等方面的科学家组成，目的是制定标准，指导行业技术的发展，目前成员近40万人">
<meta property="og:locale" content="default">
<meta property="og:updated_time" content="2018-03-26T04:19:20.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="802.11_1">
<meta name="twitter:description" content="无线渗透无线技术特点 无线技术变化快 难度大 行业迅猛发展 互联网的重要入口 边界模糊 安全实施缺失而且困难 对技术不了解而造成配置不当 企业网络私自接入AP破坏网络边界  802.11 标准IEEE  Institute of Electrical and Electronics Engineers 由通信航天生物电气电子等方面的科学家组成，目的是制定标准，指导行业技术的发展，目前成员近40万人">
    
    
        
          
              <link rel="shortcut icon" href="/images/favicon.ico">
          
        
        
          
            <link rel="icon" type="image/png" href="/images/favicon-192x192.png" sizes="192x192">
          
        
        
          
            <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png">
          
        
    
    <!-- title -->
    <title>802.11_1</title>
    <!-- styles -->
    <link rel="stylesheet" href="/css/style.css">
    <!-- persian styles -->
    
      <link rel="stylesheet" href="/css/rtl.css">
    
    <!-- rss -->
    
    
</head>

<body class="max-width mx-auto px3 ltr">
    
      <div id="header-post">
  <a id="menu-icon" href="#"><i class="fas fa-bars fa-lg"></i></a>
  <a id="menu-icon-tablet" href="#"><i class="fas fa-bars fa-lg"></i></a>
  <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fas fa-chevron-up fa-lg"></i></a>
  <span id="menu">
    <span id="nav">
      <ul>
         
          <li><a href="/">Inici</a></li>
         
          <li><a href="/archives/">Articles</a></li>
         
          <li><a href="/Search/">Buscar</a></li>
        
      </ul>
    </span>
    <br>
    <span id="actions">
      <ul>
        
        <li><a class="icon" href="/2018/03/28/802-11-2/"><i class="fas fa-chevron-left" aria-hidden="true" onmouseover="$('#i-prev').toggle();" onmouseout="$('#i-prev').toggle();"></i></a></li>
        
        
        <li><a class="icon" href="/2018/03/21/提权/"><i class="fas fa-chevron-right" aria-hidden="true" onmouseover="$('#i-next').toggle();" onmouseout="$('#i-next').toggle();"></i></a></li>
        
        <li><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fas fa-chevron-up" aria-hidden="true" onmouseover="$('#i-top').toggle();" onmouseout="$('#i-top').toggle();"></i></a></li>
        <li><a class="icon" href="#"><i class="fas fa-share-alt" aria-hidden="true" onmouseover="$('#i-share').toggle();" onmouseout="$('#i-share').toggle();" onclick="$('#share').toggle();return false;"></i></a></li>
      </ul>
      <span id="i-prev" class="info" style="display:none;">Post Anterior</span>
      <span id="i-next" class="info" style="display:none;">Post Següent</span>
      <span id="i-top" class="info" style="display:none;">Adalt</span>
      <span id="i-share" class="info" style="display:none;">Compartir Post</span>
    </span>
    <br>
    <div id="share" style="display: none">
      <ul>
  <li><a class="icon" href="http://www.facebook.com/sharer.php?u=http://yoursite.com/2018/03/26/802-11-1/"><i class="fab fa-facebook " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://twitter.com/share?url=http://yoursite.com/2018/03/26/802-11-1/&text=802.11_1"><i class="fab fa-twitter " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.linkedin.com/shareArticle?url=http://yoursite.com/2018/03/26/802-11-1/&title=802.11_1"><i class="fab fa-linkedin " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=http://yoursite.com/2018/03/26/802-11-1/&is_video=false&description=802.11_1"><i class="fab fa-pinterest " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="mailto:?subject=802.11_1&body=Check out this article: http://yoursite.com/2018/03/26/802-11-1/"><i class="fas fa-envelope " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://getpocket.com/save?url=http://yoursite.com/2018/03/26/802-11-1/&title=802.11_1"><i class="fab fa-get-pocket " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://reddit.com/submit?url=http://yoursite.com/2018/03/26/802-11-1/&title=802.11_1"><i class="fab fa-reddit " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.stumbleupon.com/submit?url=http://yoursite.com/2018/03/26/802-11-1/&title=802.11_1"><i class="fab fa-stumbleupon " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://digg.com/submit?url=http://yoursite.com/2018/03/26/802-11-1/&title=802.11_1"><i class="fab fa-digg " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.tumblr.com/share/link?url=http://yoursite.com/2018/03/26/802-11-1/&name=802.11_1&description="><i class="fab fa-tumblr " aria-hidden="true"></i></a></li>
</ul>

    </div>
    <div id="toc">
      <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#无线渗透"><span class="toc-number">1.</span> <span class="toc-text">无线渗透</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#无线技术特点"><span class="toc-number">1.0.1.</span> <span class="toc-text">无线技术特点</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#802-11-标准"><span class="toc-number">1.0.2.</span> <span class="toc-text">802.11 标准</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#802-11b"><span class="toc-number">1.0.3.</span> <span class="toc-text">802.11b</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#802-11a"><span class="toc-number">1.0.4.</span> <span class="toc-text">802.11a</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#802-11g"><span class="toc-number">1.0.5.</span> <span class="toc-text">802.11g</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#802-11n"><span class="toc-number">1.0.6.</span> <span class="toc-text">802.11n</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#无线"><span class="toc-number">1.0.7.</span> <span class="toc-text">无线</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#无线网路运行模式"><span class="toc-number">1.1.</span> <span class="toc-text">无线网路运行模式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#无线网硬件设备及基本概念"><span class="toc-number">1.2.</span> <span class="toc-text">无线网硬件设备及基本概念</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#无线技术概念"><span class="toc-number">1.2.1.</span> <span class="toc-text">无线技术概念</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Linux无线协议栈及配置命令"><span class="toc-number">1.3.</span> <span class="toc-text">Linux无线协议栈及配置命令</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#无线网卡配置"><span class="toc-number">1.3.1.</span> <span class="toc-text">无线网卡配置</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#RADIOTAP头部"><span class="toc-number">1.4.</span> <span class="toc-text">RADIOTAP头部</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#802-11-头部"><span class="toc-number">1.4.1.</span> <span class="toc-text">802.11 头部</span></a></li></ol></li></ol>
    </div>
  </span>
</div>

    
    <div class="content index my4">
        
        <article class="post" itemscope="" itemtype="http://schema.org/BlogPosting">
  <header>
    
    <h1 class="posttitle" itemprop="name headline">
        802.11_1
    </h1>



    <div class="meta">
      <span class="author" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
        <span itemprop="name">Chace Blog</span>
      </span>
      
    <div class="postdate">
        <time datetime="2018-03-26T04:18:44.000Z" itemprop="datePublished">2018-03-26</time>
    </div>


      

    </div>
  </header>
  

  <div class="content" itemprop="articleBody">
    <h2 id="无线渗透"><a href="#无线渗透" class="headerlink" title="无线渗透"></a>无线渗透</h2><h4 id="无线技术特点"><a href="#无线技术特点" class="headerlink" title="无线技术特点"></a>无线技术特点</h4><ul>
<li>无线技术变化快 难度大</li>
<li>行业迅猛发展</li>
<li>互联网的重要入口</li>
<li>边界模糊</li>
<li>安全实施缺失而且困难</li>
<li>对技术不了解而造成配置不当</li>
<li>企业网络私自接入AP破坏网络边界</li>
</ul>
<h4 id="802-11-标准"><a href="#802-11-标准" class="headerlink" title="802.11 标准"></a>802.11 标准</h4><p>IEEE</p>
<ul>
<li>Institute of Electrical and Electronics Engineers<ul>
<li>由通信航天生物电气电子等方面的科学家组成，目的是制定标准，指导行业技术的发展，目前成员近40万人。</li>
</ul>
</li>
</ul>
<p>• 802 委员会下第11组负责开发无线局域网标准<br>• IEEE 802.1 1 The Original WLAN Standard – 1 Mbit/s and 2 Mbit/w, 2.4 GHz RF and<br>IR<br>• IEEE 802.11a 54 Mbit/s, 5 GHz<br>• IEEE 802.11b 802.11 Enhancements to Support 5.5 Mbit/s and 11 Mbit/s<br>• IEEE 802.11c Bridge Operation Procedures<br>• IEEE 802.11d International (Country to Country) Roaming Extensions<br>• IEEE 802.11 e Quality of Service ( QoS ), Including Packet Bursting<br>• IEEE 802.11F Inter -Access Point Protocol<br>• IEEE 802.11g 54 Mbit/s, 2.4 GHz<br>• IEEE 802.11h Spectrum Managed 802.11a (5 GHz) for European Compatibility<br>• IEEE 802.11i Enhanced Security</p>
<p>• IEEE 802.11j Extensions for Japan<br>• IEEE 802.11k Radio Resource Measurement Enhancements<br>• IEEE 802.11n Higher Throughput Using Multiple Input, Multiple Output<br>(MIMO) Antennas<br>• IEEE 802.11p Wireless Access for the Vehicular Environment (WAVE)<br>• IEEE 802.11r Fast BSS Transition (FT)<br>• IEEE 802.11s Mesh Networking, Extended Service Set (ESS)<br>• IEEE 802.11T Wireless Performance Prediction (WPP)<br>• IEEE 802.11u Internetworking with Non -802 Networks ( i.e. : Cellular)<br>• IEEE 802.11v Wireless Network Management </p>
<p>• IEEE 802.11w Protected Management Frames<br>• IEEE 802.11y 3650 – 3700 MHz Operation in the US<br>• IEEE 802.11z Direct Link Setup (DLS) Extensions<br>• IEEE 802.11mb Maintenance of the Standard<br>• IEEE 802.11aa Robust Streaming of Audio Video Transport Streams<br>• IEEE 802.11ac Very High Throughput &lt; 6 GHz<br>• IEEE 802.11ad Very High Throughput, 60 GHz<br>• IEEE 802.11ae QoS Management<br>• IEEE 802.11af TV Whitespace<br>• IEEE 802.11ah Sub 1 GHz<br>• IEEE 802.11ai Fast Initial Link Setup </p>
<p>802.11</p>
<ul>
<li>发布于1997年</li>
<li>速率1Mbps 或 2Mbps</li>
<li>红外线传输介质（未实现）</li>
<li>无线射频信号编码（调制）（radio frequencies)</li>
<li><ul>
<li>Direct-Sequence Spread-Spectrum(DSSS)——直序扩频</li>
<li>Frequency Hopping Spread-Spectrum(FHSS)——跳频扩频</li>
</ul>
</li>
<li>媒体访问方式——CSMA/CA c=b+log2(1+s/n)</li>
<li><ul>
<li>根据算法侦听一定时长</li>
<li>发送数据前发包声明</li>
</ul>
</li>
<li>Request to Send / Clear to Send(RTS/CTS)</li>
</ul>
<h4 id="802-11b"><a href="#802-11b" class="headerlink" title="802.11b"></a>802.11b</h4><ul>
<li>Complementary Code Keying(CCK)——补充代码键</li>
<li><ul>
<li>5.5 and 11 Mbit/s</li>
<li>2.4GHz band(2.4Ghz - 2.485GHz)</li>
<li>14个重叠的信道channels</li>
<li>每个信道22MHz带宽</li>
<li>只有三个完全不重叠的信道</li>
</ul>
</li>
<li>美国-1 to 11(2.412GHz - 2.462GHz)</li>
<li>欧洲-1 to 13(2.412Ghz - 2.472GHz)</li>
<li>日本-1 to 14(2.412GHz - 2.484GHz)</li>
</ul>
<h4 id="802-11a"><a href="#802-11a" class="headerlink" title="802.11a"></a>802.11a</h4><ul>
<li>与802.11b几乎同时发布</li>
<li><ul>
<li>因设备价格问题一直没有得到广泛使用</li>
</ul>
</li>
<li>使用5GHz带宽</li>
<li><ul>
<li>使用2.4GHz带宽干扰源多（微波、蓝牙、无绳电话）</li>
<li>5GHz频率有更多带宽空间，可容纳更多不重叠的信道</li>
<li>Orthogonal Frequency-Division Multiplexing(OFDM)信号调制方法</li>
<li><ul>
<li>正交频分复用技术</li>
</ul>
</li>
<li>更高速率54Mbps, 每个信道20MHz带宽</li>
<li>变频</li>
<li><ul>
<li>5.15-5.35GHz 室内</li>
<li>5.7-5.8GHz 室外</li>
</ul>
</li>
</ul>
</li>
</ul>
<h4 id="802-11g"><a href="#802-11g" class="headerlink" title="802.11g"></a>802.11g</h4><ul>
<li>2.4GHz频率</li>
<li>Orthogonal Frequency-Division Multiplexing(OFDM)信号调制方法</li>
<li>与802.11a速率相同</li>
<li>可全局降速 向后兼容802.11b, 并切换为CCK信号调制方法</li>
<li>每个信道20/22MHz 带宽</li>
</ul>
<h4 id="802-11n"><a href="#802-11n" class="headerlink" title="802.11n"></a>802.11n</h4><ul>
<li>2.4或5GHz 频率</li>
<li><ul>
<li>300Mbps 最高 600Mbps</li>
<li>Multiple-Input Multiple-Output(MIMO)多进多出通信技术</li>
<li>多天线，多无线电波，独立收发信号</li>
<li>可以使用40MHz信道带宽是数据传输速率翻倍</li>
</ul>
</li>
<li>全802.11n设备网络中，可以使用新报文格式，是速率达到最大</li>
<li>每个信道20/40MHz 带宽</li>
</ul>
<h4 id="无线"><a href="#无线" class="headerlink" title="无线"></a>无线</h4><ul>
<li>/应用层</li>
<li>/表示层</li>
<li>/会话层</li>
<li>/传输层</li>
<li>/网络层</li>
<li>数据链路层<ul>
<li>逻辑链路控制子层LLC</li>
<li>媒体访问控制子层MAC</li>
</ul>
</li>
<li>物理层</li>
</ul>
<h3 id="无线网路运行模式"><a href="#无线网路运行模式" class="headerlink" title="无线网路运行模式"></a>无线网路运行模式</h3><ul>
<li>无线网络架构</li>
<li>Indrastructure</li>
<li><ul>
<li>AP 维护SSID</li>
</ul>
</li>
<li>Ad-Hoc</li>
<li><ul>
<li>STA维护SSID</li>
</ul>
</li>
<li>Service Set Indentifier(SSID)</li>
<li><ul>
<li>AP 每秒约十次通过Beacon帧广播SSID</li>
<li>客户端连接到无线网络后也会宣告SSID</li>
</ul>
</li>
<li>Infrastructure</li>
<li><ul>
<li>至少包含一个AP和一个STATION， 形成一个Basic Service Set(BSS)</li>
<li>AP连接到有线网络，称为Distribution System(DS)</li>
<li>连接到同一个DS的多个AP形成一个Extended Service Set(ESS)</li>
</ul>
</li>
<li>AD-HOC</li>
<li><ul>
<li>也被称为Independent Basic Service Set(IBSS)</li>
<li>有至少2个STAs直接通信组成</li>
<li>也称为peer to peer 模式</li>
<li>其中一个STA负责AP的工作</li>
<li><ul>
<li>通过beacon广播SSID</li>
<li>对其他STAs进行身份验证</li>
</ul>
</li>
</ul>
</li>
<li>Wireless Distribution System(WDS)</li>
<li><ul>
<li>与有线DS类似，只是通过无线连接的多个AP组成的网络</li>
<li><ul>
<li>Bridging ——只有AP间彼此通信</li>
<li>Repeating ——允许所有AP和STA进行通信</li>
</ul>
</li>
</ul>
</li>
<li>Monitor Mode</li>
<li><ul>
<li>Monitor 不是一种真的无线模式</li>
<li>但是对无线渗透至关重要</li>
<li>允许无线网卡没有任何筛选的抓包（802.11包头）</li>
<li>与有线网络的混杂模式可以类比</li>
<li>适合的网卡和驱动不但可以monitor， 更可以Injection</li>
</ul>
</li>
</ul>
<h3 id="无线网硬件设备及基本概念"><a href="#无线网硬件设备及基本概念" class="headerlink" title="无线网硬件设备及基本概念"></a>无线网硬件设备及基本概念</h3><ul>
<li>无线网卡准备</li>
<li>物理机运行kali</li>
<li>虚拟机运行kali</li>
<li><ul>
<li>外置USB无线网卡</li>
<li>TL-WN77N（个人建议）</li>
<li>dmesg</li>
<li>iwconfig</li>
</ul>
</li>
<li>发射功率：远程连接</li>
<li>接受灵敏性：适当降低灵敏度，接受效果更佳</li>
<li>经验</li>
<li><ul>
<li>Atheros 或 Realtek</li>
<li>没有神器</li>
<li>兼容aircrack-ng suite</li>
</ul>
</li>
<li><a href="http://www.aircrack-ng.org/doku.php?id=compatibility_drivers#list_of_compatible_adapters" target="_blank" rel="noopener">http://www.aircrack-ng.org/doku.php?id=compatibility_drivers#list_of_compatible_adapters</a></li>
<li>Alfa Networks AWUS036H 无线网卡</li>
<li><ul>
<li>Realtek 8187 芯片</li>
<li>1000mW发射功率</li>
<li>天线：RP-SMA</li>
<li><ul>
<li>可扩展</li>
</ul>
</li>
</ul>
</li>
</ul>
<h4 id="无线技术概念"><a href="#无线技术概念" class="headerlink" title="无线技术概念"></a>无线技术概念</h4><ul>
<li>分贝dB</li>
<li><ul>
<li>测量无线信号强度</li>
</ul>
</li>
<li>B：向Alexander Graham Bell 致敬</li>
<li><ul>
<li>今天大部分声学设备的发明者和理论奠基人</li>
</ul>
</li>
<li>dB : 表示2个信号之间的差异比率，用于描述设备的信号强度</li>
<li><ul>
<li>是一个相对值</li>
</ul>
</li>
<li>dBm:功率值与1mW 进行比较的dB值结果</li>
<li>每增加3dBm, 功率增加约1倍</li>
<li>每增加10dBm, 功率增加10倍</li>
<li>dBi：全向天线辐射强度</li>
<li>dBd: 定向天线辐射强度</li>
<li>dBi:</li>
<li><ul>
<li>全向天线的信号功率增益</li>
<li>增益是指信号功率强度增加了多少dB</li>
<li>dBm功率相加等于mw功率相乘</li>
</ul>
</li>
<li>dBd</li>
<li><ul>
<li>是定向天线的增益值</li>
<li>全向天线在所有方向上收发信号，定向天线在指定方向的范围内收发信号</li>
<li>天线增益越大信号传输距离越远</li>
</ul>
</li>
<li>既然有mW来表示功率为什么还要引入dB这个单位？</li>
<li>接收信号时无线信号转变为高频电子脉冲，反之发射信号时高频电子脉冲转换为无线电波，这些过程功率往往要产生上万倍的变化，使用W，mW来计数非常不便，而dBm单位通过对功率的对数计算，使用一个较小的数值既可以比较直观的表达功率的变化，因此无线和声学系统都采用了dB这个单位。</li>
<li>全向天线波形图</li>
<li><ul>
<li>甜甜圈</li>
</ul>
</li>
<li>天线选择的误区</li>
<li><ul>
<li>增益越高越好</li>
<li><ul>
<li>高功耗</li>
<li>对周围环境的信号干扰</li>
</ul>
</li>
</ul>
</li>
<li>增益过高的全向天线会变成定向天线</li>
<li>定向天线</li>
<li><ul>
<li>双四边形</li>
<li>定向发现信号</li>
<li>功率相同时，比全向天线传输距离更远</li>
<li>八木天线，引向反射天线</li>
<li>平面天线</li>
<li>扇形天线</li>
<li><ul>
<li>常用于移动电话网络</li>
<li>3到4个扇形天线联合使用可实现全向信号覆盖</li>
</ul>
</li>
<li>90度扇形天线</li>
<li>120度扇形天线</li>
<li>网状天线 射束带宽更加集中 功率更强</li>
</ul>
</li>
</ul>
<h3 id="Linux无线协议栈及配置命令"><a href="#Linux无线协议栈及配置命令" class="headerlink" title="Linux无线协议栈及配置命令"></a>Linux无线协议栈及配置命令</h3><p>802.11协议栈</p>
<ul>
<li>IEEE802.11</li>
<li><ul>
<li>iwconfig</li>
<li>iwlist</li>
</ul>
</li>
<li>mac80211</li>
<li><ul>
<li>iw</li>
</ul>
</li>
</ul>
<h4 id="无线网卡配置"><a href="#无线网卡配置" class="headerlink" title="无线网卡配置"></a>无线网卡配置</h4><ul>
<li>查看无线网卡</li>
<li><ul>
<li>ifconfig</li>
<li>iwconfig</li>
<li>iw list</li>
</ul>
</li>
<li>信道频率</li>
<li><ul>
<li>iwlist wlan2 frequency</li>
<li>iw list</li>
</ul>
</li>
<li>扫描附近AP</li>
<li><ul>
<li>iw dev wlan2 scan | grep SSID</li>
<li>iw dev wlan2 scan | egrep “DS\ Parameter\ set | SSID”</li>
<li>iwlist wlan2 scanning | egrep “ESSID | Channel”</li>
</ul>
</li>
<li>添加删除侦听端口</li>
<li><ul>
<li>service network-manager stop</li>
<li>iw dev wlan2 interface add wlan2mon type monitor</li>
<li>ifconfig wlan2mon up</li>
<li><ul>
<li>tcpdump -s 0 -i wlan2mon -p</li>
</ul>
</li>
<li>iw dev wlan2mon interface del</li>
</ul>
</li>
<li>协议栈</li>
<li><ul>
<li><a href="https://www.kernel.org/doc/htmldocs/80211/index.html" target="_blank" rel="noopener">https://www.kernel.org/doc/htmldocs/80211/index.html</a></li>
</ul>
</li>
<li>无线驱动</li>
<li><ul>
<li><a href="http://linuxwireless.org/en/users/Drivers/" target="_blank" rel="noopener">http://linuxwireless.org/en/users/Drivers/</a></li>
</ul>
</li>
</ul>
<h3 id="RADIOTAP头部"><a href="#RADIOTAP头部" class="headerlink" title="RADIOTAP头部"></a>RADIOTAP头部</h3><ul>
<li>802.11帧发射和接收的事实标准，802.11依赖Radiotap完成通信过程</li>
<li>Linux系统在驱动和API中内建支持Radiotap</li>
<li>802.11帧发射之前，网卡驱动在802.11头前面添加Radiotap头，反之当网卡接收到无线帧时，驱动通知MAC层，此帧包含Radiotap头</li>
<li>Radiotap为802.11帧传递额外信息，厂家可自定义，因此头长度不固定</li>
<li>不破坏原始头结构，增加传递的信息</li>
<li>分为Header 和 data</li>
<li>Version(8bit)</li>
<li><ul>
<li>值始终为0</li>
</ul>
</li>
<li>Pad(8bit)</li>
<li><ul>
<li>未使用，只作为字段强制对其的占位</li>
</ul>
</li>
<li>Length(16bit)</li>
<li><ul>
<li>整个radiotap头长度（可变），作用时确定802.11头的开始位置</li>
</ul>
</li>
<li>Present(32bit)</li>
<li><ul>
<li>Data段的掩码</li>
<li>Ext(1\0)</li>
<li>MAC不能理解的头部直接忽略</li>
</ul>
</li>
</ul>
<h4 id="802-11-头部"><a href="#802-11-头部" class="headerlink" title="802.11 头部"></a>802.11 头部</h4><ul>
<li>DU（Data Unit) 即数据单元，信息传输的最小数据集合</li>
<li>传递过程逐层封装（Encapsulation)</li>
<li>SDU(Service Data Unit) / PDU(Protocol Data Unit)</li>
<li>MSDU - MIC -  分帧 - 添加IV – 加密 – 添加MAC头部 —— MPDU</li>
<li>MPDU/PSDU + 物理头 = PPDU —— RF发射</li>
<li>Protocol Version (2bit) : 802.11协议版本，始终为0、1、2、</li>
<li>Type(2bit) :规定帧的具体用途（3种帧类型）</li>
<li><ul>
<li>控制帧（1）</li>
<li>数据帧（2）</li>
<li>管理帧（0）</li>
</ul>
</li>
<li>SubType(4bit)</li>
<li><ul>
<li>每个类型对应多个子类型，协议规定不同类型/子类型的帧完成不同功能的操作</li>
</ul>
</li>
<li>To DS / From DS (1 / 1 bit)</li>
<li><ul>
<li>标识帧的传输方向，传向DS或者来自DS，这两个字段的值决定着MAC头中4个Address字段的不同定义。</li>
<li>0x00:出现在IBSS环境中（可能是Management帧或者是Control帧类型）；或者是STSL（Station to Station Link)中两个STA间通信，这种情况下通信不通过AP</li>
<li>0x01:表示Data帧从AP向STA传递；</li>
<li>0x02:表示Data帧从STA向AP传递；</li>
<li>0x03:表示两个AP间通信，这是典型的WDS(Wireless Distribution System) 环境中AP间的通信，或者表示Mesh环境下MP间的通信；只有此时才会使用到Address4字段</li>
</ul>
</li>
<li>More frag(1bit): 表示是否还有后续帧</li>
<li><ul>
<li>值为1时表示有后续分段，可能是Data或Management帧类型。只有单播接受地址的帧会被分段；</li>
</ul>
</li>
<li>Retry(1bit):重传</li>
<li><ul>
<li>值为1表示重传帧，可能是Data或Management帧类型，接收端进程使用此值防止帧重复；</li>
</ul>
</li>
<li>Power Mgmt(1bit):活动模式（0）/ 省电模式（1）</li>
<li><ul>
<li>STA处于省电模式时，向关联的AP发送该值为1的帧（AP从不使用此字段），省电模式下STA不接收数据，发送给它的Data帧由AP暂时缓存。</li>
</ul>
</li>
<li>More Data(1bit)</li>
<li><ul>
<li>当AP缓存了至少一个MSDU时，会向省电模式的STA发送该值为1的帧，表示有数据要传输给STA，接收到此帧的STA唤醒自己并向AP发送PS-Poll帧，取回由AP为其缓存的数据。也被用于AP有更多的广播/多播帧需要发送的情况。</li>
</ul>
</li>
<li>Protected Frame(1bit)</li>
<li><ul>
<li>可能是Data 或 Management 帧类型，表示MSDU是否被加密；也被用于表示PSK身份验证Frame#3帧； 数据载荷为空时，该字段值为0；</li>
</ul>
</li>
<li>Order(1bit)</li>
<li><ul>
<li>在非QoS帧的情况下，值为1表示数据必须按严格顺序处理，通常为0；</li>
</ul>
</li>
<li>Duration/ID (16bit)</li>
<li><ul>
<li>所有Control帧都使用该字段，其作用随Type / SubType 变化有所不同</li>
<li>帧类型为PS Poll(type:1, subtype:10)时， 表示STA关联的AID（association identity)</li>
<li>其他情况下该字段作为一种载波侦听机制，表示接收下一帧之间需要保持的时间间隔，用于NAV（Network Allocation Vector)计算，单位是微秒。</li>
</ul>
</li>
<li>MAC Layer Address</li>
<li><ul>
<li>补充最后一种： Basic service set ID(BSSID); 它是BSS 的2层唯一标识，Infrastructure 模式中BSSID就是AP的MAC地址，当AP支持多BSS时，随机生成每个BSSID；</li>
</ul>
</li>
<li>Sequence Control (16bit)</li>
<li><ul>
<li>这个字段包含两个子字段： Sequence Number 和 Fragment Number;</li>
<li>Sequence Number 是每个帧的编号，数值范围是0——4095，以1为步长递增。当帧被分段时，同意帧中不同分段的Sequence Number 相同；</li>
<li>Fragment Number是被分段的帧用于标识分段位置顺序的编号，数值范围是0——15,以1为步长递增。</li>
</ul>
</li>
<li>Frame Body（变长）</li>
<li><ul>
<li>数据字段，未加密的最大MSDU长度为2304字节（其中包含最大256字节的上层头信息，和可被传递的数据2048字节）。不同的加密方法会增加一定的内容长度。</li>
<li>WEP：8 bytes - 2312 bytes</li>
<li>TKIP(WPA1): 20 bytes - 2324 bytes</li>
<li>CCMP(WPA2): 16 bytes - 2320 bytes</li>
<li>control 类型的帧没有Frame Body 内容</li>
</ul>
</li>
<li>FCS（32bit）</li>
<li><ul>
<li>发送端对全部MAC包头和Frame Body内容进行CRC计算，计算结果即为FCS（Frame Check Sequence)值，接收端进行同样的计算，结果一致时，则接收端向发送端返回ACK，否则丢弃帧（只对单播帧有效，FCS错误的广播/多播帧可能被接收）</li>
<li>wireshark抓包时已经删除了FCS值</li>
</ul>
</li>
</ul>

  </div>
</article>



    </div>
    
      <div id="footer-post-container">
  <div id="footer-post">

    <div id="nav-footer" style="display: none">
      <ul>
         
          <li><a href="/">Inici</a></li>
         
          <li><a href="/archives/">Articles</a></li>
         
          <li><a href="/Search/">Buscar</a></li>
        
      </ul>
    </div>

    <div id="toc-footer" style="display: none">
      <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#无线渗透"><span class="toc-number">1.</span> <span class="toc-text">无线渗透</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#无线技术特点"><span class="toc-number">1.0.1.</span> <span class="toc-text">无线技术特点</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#802-11-标准"><span class="toc-number">1.0.2.</span> <span class="toc-text">802.11 标准</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#802-11b"><span class="toc-number">1.0.3.</span> <span class="toc-text">802.11b</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#802-11a"><span class="toc-number">1.0.4.</span> <span class="toc-text">802.11a</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#802-11g"><span class="toc-number">1.0.5.</span> <span class="toc-text">802.11g</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#802-11n"><span class="toc-number">1.0.6.</span> <span class="toc-text">802.11n</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#无线"><span class="toc-number">1.0.7.</span> <span class="toc-text">无线</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#无线网路运行模式"><span class="toc-number">1.1.</span> <span class="toc-text">无线网路运行模式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#无线网硬件设备及基本概念"><span class="toc-number">1.2.</span> <span class="toc-text">无线网硬件设备及基本概念</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#无线技术概念"><span class="toc-number">1.2.1.</span> <span class="toc-text">无线技术概念</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Linux无线协议栈及配置命令"><span class="toc-number">1.3.</span> <span class="toc-text">Linux无线协议栈及配置命令</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#无线网卡配置"><span class="toc-number">1.3.1.</span> <span class="toc-text">无线网卡配置</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#RADIOTAP头部"><span class="toc-number">1.4.</span> <span class="toc-text">RADIOTAP头部</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#802-11-头部"><span class="toc-number">1.4.1.</span> <span class="toc-text">802.11 头部</span></a></li></ol></li></ol>
    </div>

    <div id="share-footer" style="display: none">
      <ul>
  <li><a class="icon" href="http://www.facebook.com/sharer.php?u=http://yoursite.com/2018/03/26/802-11-1/"><i class="fab fa-facebook fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://twitter.com/share?url=http://yoursite.com/2018/03/26/802-11-1/&text=802.11_1"><i class="fab fa-twitter fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.linkedin.com/shareArticle?url=http://yoursite.com/2018/03/26/802-11-1/&title=802.11_1"><i class="fab fa-linkedin fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=http://yoursite.com/2018/03/26/802-11-1/&is_video=false&description=802.11_1"><i class="fab fa-pinterest fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="mailto:?subject=802.11_1&body=Check out this article: http://yoursite.com/2018/03/26/802-11-1/"><i class="fas fa-envelope fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://getpocket.com/save?url=http://yoursite.com/2018/03/26/802-11-1/&title=802.11_1"><i class="fab fa-get-pocket fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://reddit.com/submit?url=http://yoursite.com/2018/03/26/802-11-1/&title=802.11_1"><i class="fab fa-reddit fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.stumbleupon.com/submit?url=http://yoursite.com/2018/03/26/802-11-1/&title=802.11_1"><i class="fab fa-stumbleupon fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://digg.com/submit?url=http://yoursite.com/2018/03/26/802-11-1/&title=802.11_1"><i class="fab fa-digg fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.tumblr.com/share/link?url=http://yoursite.com/2018/03/26/802-11-1/&name=802.11_1&description="><i class="fab fa-tumblr fa-lg" aria-hidden="true"></i></a></li>
</ul>

    </div>

    <div id="actions-footer">
        <a id="menu" class="icon" href="#" onclick="$('#nav-footer').toggle();return false;"><i class="fas fa-bars fa-lg" aria-hidden="true"></i> Menú</a>
        <a id="toc" class="icon" href="#" onclick="$('#toc-footer').toggle();return false;"><i class="fas fa-list fa-lg" aria-hidden="true"></i> TOC</a>
        <a id="share" class="icon" href="#" onclick="$('#share-footer').toggle();return false;"><i class="fas fa-share-alt fa-lg" aria-hidden="true"></i> Compartir</a>
        <a id="top" style="display:none" class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fas fa-chevron-up fa-lg" aria-hidden="true"></i> Cap amunt</a>
    </div>

  </div>
</div>

    
    <footer id="footer">
  <div class="footer-left">
    Copyright &copy; 2019 jsmhny
  </div>
  <div class="footer-right">
    <nav>
      <ul>
         
          <li><a href="/">Inici</a></li>
         
          <li><a href="/archives/">Articles</a></li>
         
          <li><a href="/Search/">Buscar</a></li>
        
      </ul>
    </nav>
  </div>
</footer>

</body>
</html>
<!-- styles -->
<link rel="stylesheet" href="/lib/font-awesome/css/fontawesome-all.min.css">
<link rel="stylesheet" href="/lib/justified-gallery/css/justifiedGallery.min.css">

<!-- jquery -->
<script src="/lib/jquery/jquery.min.js"></script>
<script src="/lib/justified-gallery/js/jquery.justifiedGallery.min.js"></script>
<script src="/js/main.js"></script>
<!-- search -->

<!-- Google Analytics -->

<!-- Baidu Analytics -->

<!-- Disqus Comments -->


